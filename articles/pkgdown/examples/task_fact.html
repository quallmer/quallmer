<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Example: Fact checking of claims • quallmer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../../../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../../../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../../../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../../../favicon.ico">
<link rel="manifest" href="../../../site.webmanifest">
<script src="../../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../../../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../../../deps/headroom-0.11.0/headroom.min.js"></script><script src="../../../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../../../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../../../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../../../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../../../deps/search-1.0.0/fuse.min.js"></script><script src="../../../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../../../pkgdown.js"></script><meta property="og:title" content="Example: Fact checking of claims">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../../../index.html">quallmer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../../../articles/getting-started.html">Quick start guide</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/tutorials/openai.html">Signing up for an openai API key</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/tutorials/ollama.html">Working with an open-source Ollama model</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/tutorials/predefined.html">Using predefined tasks</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/tutorials/customtask.html">Defining custom tasks</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/tutorials/validate.html">Using the Agreement App</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/tutorials/trail.html">The quallmer trail</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../../../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-predefined-tasks" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Predefined tasks</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-predefined-tasks">
<li><a class="dropdown-item" href="../../../articles/pkgdown/examples/overview.html">Overview of predefined tasks</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/examples/task_sentiment.html">Sentiment analysis</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/examples/task_stance.html">Stance detection / position taking</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/examples/task_ideology.html">Ideological scaling</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/examples/task_salience.html">Salience of topics</a></li>
    <li><a class="dropdown-item" href="../../../articles/pkgdown/examples/task_fact.html">Fact-checking</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../../../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SeraphineM/quallmer" aria-label="View on GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="task_fact_files/kePrint-0.0.1/kePrint.js"></script><link href="task_fact_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../../logo.png" class="logo" alt=""><h1>Example: Fact checking of claims</h1>
            
      

      <div class="d-none name"><code>task_fact.Rmd</code></div>
    </div>

    
    
<p>The <code><a href="../../../reference/annotate.html">annotate()</a></code> function with a predefined
<code><a href="../../../reference/task_fact.html">task_fact()</a></code> can be used to fact-check claims made in texts.
In this example, we will demonstrate how to apply this task to a sample
corpus of innaugural speeches from US presidents. The fact-checking
process involves evaluating the truthfulness of claims made in the
speeches and providing explanations for each claim. The outcome is a
<strong>truthfulness score from 0 to 10, where 0 indicates completely
false claims and 10 indicates highest confidence in the truthfulness of
the claims.</strong></p>
<div class="section level3">
<h3 id="loading-packages-and-data">Loading packages and data<a class="anchor" aria-label="anchor" href="#loading-packages-and-data"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We will use the quanteda package </span></span>
<span><span class="co"># for loading a sample corpus of innaugural speeches</span></span>
<span><span class="co"># If you have not yet installed the quanteda package, you can do so by:</span></span>
<span><span class="co"># install.packages("quanteda")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Package version: 4.3.1</span></span>
<span><span class="co">## Unicode version: 15.1</span></span>
<span><span class="co">## ICU version: 74.2</span></span></code></pre>
<pre><code><span><span class="co">## Parallel computing: disabled</span></span></code></pre>
<pre><code><span><span class="co">## See https://quanteda.io for tutorials and examples.</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://seraphinem.github.io/quallmer/">quallmer</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: ellmer</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For educational purposes, </span></span>
<span><span class="co"># we will use a subset of the inaugural speeches corpus</span></span>
<span><span class="co"># The three most recent speeches in the corpus</span></span>
<span><span class="va">data_corpus_inaugural</span> <span class="op">&lt;-</span> <span class="fu">quanteda</span><span class="fu">::</span><span class="va"><a href="https://quanteda.io/reference/data_corpus_inaugural.html" class="external-link">data_corpus_inaugural</a></span><span class="op">[</span><span class="fl">57</span><span class="op">:</span><span class="fl">60</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-annotate-for-fact-checking-of-claims-in-texts">Using <code>annotate()</code> for fact checking of claims in
texts<a class="anchor" aria-label="anchor" href="#using-annotate-for-fact-checking-of-claims-in-texts"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Apply predefined fact checking task with task_fact() in the annotate() function</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../../reference/annotate.html">annotate</a></span><span class="op">(</span><span class="va">data_corpus_inaugural</span>, task <span class="op">=</span> <span class="fu"><a href="../../../reference/task_fact.html">task_fact</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                   model_name <span class="op">=</span> <span class="st">"openai/gpt-4o"</span>,</span>
<span>                   params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>temperature <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [working] (0 + 0) -&gt; 3 -&gt; 1 | <span style="color: #00BB00;">■■■■■■■■■                       </span>  25%</span></span></code></pre>
<pre><code><span><span class="co">## [working] (0 + 0) -&gt; 1 -&gt; 3 | <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■         </span>  75%</span></span></code></pre>
<pre><code><span><span class="co">## [working] (0 + 0) -&gt; 0 -&gt; 4 | <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ </span> 100%</span></span></code></pre>
<table class="table table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
truth_score
</th>
<th style="text-align:left;">
misleading_topic
</th>
<th style="text-align:left;">
explanation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2013-Obama
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
The text is a speech that reflects on American values, history, and
aspirations. It accurately references historical events and foundational
principles of the United States, such as the Declaration of Independence
and the Constitution. The speech is largely aspirational and rhetorical,
focusing on ideals rather than specific factual claims, which
contributes to its high truthfulness score. There are no significant
misleading topics or inaccuracies present.
</td>
</tr>
<tr>
<td style="text-align:left;">
2017-Trump
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Transfer of Power , Economic Claims , Foreign Policy , Crime and Poverty
, Unity and Division
</td>
<td style="text-align:left;">
<p>The text is a political speech, which often includes aspirational and
rhetorical statements rather than factual claims.</p>
<ol style="list-style-type: decimal">
<li>
<strong>Transfer of Power</strong>: The claim of transferring power
‘back to the people’ is subjective and lacks specific evidence.</li>
<li>
<strong>Economic Claims</strong>: Statements about jobs, factories,
and wealth redistribution are broad and not supported by specific
data.</li>
<li>
<strong>Foreign Policy</strong>: Assertions about enriching foreign
industries at the expense of American ones are complex and not fully
explained.</li>
<li>
<strong>Crime and Poverty</strong>: Descriptions of ‘American
carnage’ and inner-city conditions are exaggerated and not universally
accurate.</li>
<li>
<strong>Unity and Division</strong>: The speech emphasizes unity,
but the political context may suggest otherwise.</li>
</ol>
Overall, the speech contains a mix of factual elements and political
rhetoric, leading to a moderate truthfulness score.
</td>
</tr>
<tr>
<td style="text-align:left;">
2021-Biden
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
The text is a speech that emphasizes themes of unity, democracy, and
hope. It accurately reflects historical events and current challenges,
such as the COVID-19 pandemic and political divisions. The speech is
largely aspirational and rhetorical, with no significant factual
inaccuracies or misleading claims. The overall truthfulness score is
high due to the accurate representation of historical and contemporary
issues.
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-Trump
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Historical inaccuracies, Policy claims , Election results , Panama Canal
ownership , Energy resources
</td>
<td style="text-align:left;">
The text contains several factual inaccuracies and misleading claims.
For instance, the assertion about the Panama Canal being operated by
China is incorrect; it is managed by Panama. The claim of winning the
popular vote by millions lacks context and verification. Statements
about energy resources and the ability to immediately halt illegal entry
are oversimplified. Additionally, historical references and policy
proposals are presented in a way that may not align with current legal
or practical realities. These issues collectively reduce the overall
truthfulness score.
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="using-annotate-for-fact-checking-with-a-specific-number-of-claims-to-check">Using <code>annotate()</code> for fact checking with a specific
number of claims to check<a class="anchor" aria-label="anchor" href="#using-annotate-for-fact-checking-with-a-specific-number-of-claims-to-check"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Apply predefined fact checking task with task_fact() in the annotate() function</span></span>
<span><span class="va">result_claims</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../../reference/annotate.html">annotate</a></span><span class="op">(</span><span class="va">data_corpus_inaugural</span>, task <span class="op">=</span> <span class="fu"><a href="../../../reference/task_fact.html">task_fact</a></span><span class="op">(</span>max_topics <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>                   model_name <span class="op">=</span> <span class="st">"openai/gpt-4o"</span>,</span>
<span>                   params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>temperature <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [working] (0 + 0) -&gt; 3 -&gt; 1 | <span style="color: #00BB00;">■■■■■■■■■                       </span>  25%</span></span></code></pre>
<pre><code><span><span class="co">## [working] (0 + 0) -&gt; 1 -&gt; 3 | <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■         </span>  75%</span></span></code></pre>
<pre><code><span><span class="co">## [working] (0 + 0) -&gt; 0 -&gt; 4 | <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ </span> 100%</span></span></code></pre>
<table class="table table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
truth_score
</th>
<th style="text-align:left;">
misleading_topic
</th>
<th style="text-align:left;">
explanation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2013-Obama
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
The text is a ceremonial speech, likely an inaugural address, that
emphasizes American values, historical references, and aspirations. It
contains no factual inaccuracies or misleading claims. The themes of
equality, democracy, and collective action are consistent with
historical and contemporary American ideals. The speech is largely
aspirational and rhetorical, which is typical for this genre, and does
not make specific factual claims that could be easily disputed.
</td>
</tr>
<tr>
<td style="text-align:left;">
2017-Trump
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Transfer of Power to the People, American Carnage , America First Policy
</td>
<td style="text-align:left;">
<p>The speech contains several broad and sweeping claims that are more
rhetorical than factual.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Transfer of Power to the People</strong>: The claim that
power is being transferred from Washington to the people is a common
political rhetoric but lacks specific evidence or mechanisms in the
speech.</p></li>
<li><p><strong>American Carnage</strong>: The description of the state
of the nation as ‘American carnage’ is a dramatic portrayal that may not
accurately reflect the overall condition of the country at the
time.</p></li>
<li><p><strong>America First Policy</strong>: The assertion that all
decisions will benefit American workers and families is an aspirational
goal rather than a factual statement, as policy outcomes can be complex
and multifaceted.</p></li>
</ol>
Overall, the speech is high on rhetoric and low on specific factual
claims, leading to a moderate truthfulness score.
</td>
</tr>
<tr>
<td style="text-align:left;">
2021-Biden
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
The text is a speech that emphasizes themes of unity, democracy, and
hope. It accurately reflects historical events and current challenges,
such as the COVID-19 pandemic and political divisions. The speech is
largely aspirational and rhetorical, with no significant factual
inaccuracies or misleading claims. The overall truthfulness score is
high, as the content aligns with known facts and historical context.
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-Trump
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Historical Inaccuracies, Policy Claims , Election Claims
</td>
<td style="text-align:left;">
<p>The speech contains several misleading or inaccurate claims.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Historical Inaccuracies</strong>: The statement about the
Panama Canal being ‘given’ to Panama and the claim that China operates
it are misleading. The Panama Canal was transferred to Panama under the
Torrijos-Carter Treaties, and it is operated by the Panama Canal
Authority, not China.</p></li>
<li><p><strong>Policy Claims</strong>: The speech includes promises of
immediate and sweeping policy changes, such as halting all illegal entry
and designating cartels as terrorist organizations, which are complex
and unlikely to be implemented as simply as stated.</p></li>
<li><p><strong>Election Claims</strong>: The claim of winning the
popular vote by millions and having a powerful win in all seven swing
states lacks context and verification, as it implies a level of support
that may not be accurate.</p></li>
</ol>
Overall, the speech is highly rhetorical and contains numerous
exaggerated or unverified claims, reducing its truthfulness score.
</td>
</tr>
</tbody>
</table>
<p>In this example, we demonstrated how to use the
<code><a href="../../../reference/annotate.html">annotate()</a></code> function with the <code><a href="../../../reference/task_fact.html">task_fact()</a></code> to
fact-check claims in a corpus of innaugural speeches. The results
include a truth score, identified misleading topics, and explanations
for each claim evaluated. The amount of claims to check can be adjusted
using the <code>max_topics</code> parameter in the
<code><a href="../../../reference/task_fact.html">task_fact()</a></code> function. Now you can apply this approach to
your own texts for fact-checking purposes!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Seraphine F. Maerz, Kenneth Benoit.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
